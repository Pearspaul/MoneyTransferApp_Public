<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6" href="#">Hello <h3>{{fullName}}</h3></a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="true" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-nav">
        <div class="nav-item text-nowrap">
            <a style="background: #489cd4;
            color: #fff;
            border-radius: 4px;
            margin: 10px;
            cursor: pointer;" class="nav-link px-3" (click)="logout()">Sign out</a>
        </div>
    </div>
  </header>  
  <div class="container-fluid">
    <div class="row">
        <ng-container *ngIf="role === 'Admin'" >
          <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3 sidebar-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home align-text-bottom" aria-hidden="false"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file align-text-bottom" aria-hidden="false"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>Transfers
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users align-text-bottom" aria-hidden="false"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>Customers
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2 align-text-bottom" aria-hidden="false"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>Reports
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        </ng-container>
  
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="chartjs-size-monitor">
                <div class="chartjs-size-monitor-expand">
                    <div class=""></div>
                </div>
                <div class="chartjs-size-monitor-shrink">
                    <div class=""></div>
                </div>
            </div>
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Money Transfer</h1>
            </div>
            <div class="table-responsive">
                <ng-container *ngIf="role === 'User'" >
                <div class="dropdown-menu d-block position-static border-0 pt-0 mx-0 rounded-3 shadow overflow-hidden w-100px" data-bs-theme="dark">
                    <div>
                        <div class="col-md-12 col-lg-12">
                            <div class="btn-group" style="width:240px">
                                <h6>From</h6>
                                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false">
                                    {{fromCurrency}}
                                </button>
                                <ul class="dropdown-menu">
                                    <li (click)="setFromCurrency(currency)" class="dropdown-item"  *ngFor="let currency of currencies">{{currency.currencyCode}}</li>
                                </ul>
                              </div>
                              <div class="btn-group" style="width:240px">
                                <h6>To</h6>
                                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="inside" aria-expanded="false">
                                    {{toCurrency}}
                                </button>
                                <ul class="dropdown-menu">
                                    <li (click)="setToCurrency(currency)" class="dropdown-item" *ngFor="let currency of currencies">{{currency.currencyCode}}</li>
                                </ul>
                              </div>
                              <div class="btn-group" style="width:240px">
                                <div class="input-field" style="width: 225px;margin-top: 22px;margin-left: 60px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"/>
                                        <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"/>
                                        <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"/>
                                        <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"/>
                                      </svg>
                                        <input type="number" placeholder="Amount" [(ngModel)] = "fromAmount" >
                                    </div>
                                <div style="margin-left: 60px;">
                                        <button (click)="GetRate()"  type="submit" class="btn btn-primary btn-block mt-4 default-bg-color" style="width: 85px; float:right;margin-right: 100px;">GetRate</button>
                                </div>
                              </div>
                            <div class="btn-group"  style="width:400px;margin-left: 20px;">
                                <div  style="min-height: 100px;" *ngIf="transferAmount >0">
                                    <h6><span style="width: 200px; display: inline-block;">Amount</span><span >{{amount}}</span></h6>
                                    <h6><span style="width: 200px; display: inline-block;">Exchange Rate</span><span >{{exchangeRate}}</span></h6>
                                    <h6><span style="width: 200px; display: inline-block;">Commission</span><span >{{commission}}</span></h6>
                                    <hr>
                                    <h6><span style="width: 200px; display: inline-block;">Transfer Amount</span><span >{{currencySymbol}}{{transferAmount}}</span></h6>
                                    
                                    </div>
                                    </div>
                                    <div class="btn-group" style="margin-left: 120px;">
                                <div  style="min-height: 100px;" *ngIf="transferAmount >0">
                                    <form [formGroup]="contractForm">
                                        <div class="form-group pt-3">
                                        <div class="input-field" [class.error]="contractForm.controls['fromAccount'].dirty && contractForm.hasError('required','fromAccount')">
                                            <span class="fa fa-user p-2"></span>
                                            <input formControlName="fromAccount" type="text" placeholder="From Account Number">
                                        </div>
                                    </div>
                                    <small *ngIf="contractForm.controls['fromAccount'].dirty && contractForm.hasError('required','fromAccount')" class="text-danger">*From Account is required</small>
                                    
                                    <div class="form-group pt-3">
                                        <div class="input-field" [class.error]="contractForm.controls['toAccount'].dirty && contractForm.hasError('required','toAccount')">
                                            <span class="fa fa-user p-2"></span>
                                            <input formControlName="toAccount" type="text" placeholder="To Account Number">
                                        </div>
                                    </div>
                                    <small *ngIf="contractForm.controls['toAccount'].dirty && contractForm.hasError('required','toAccount')" class="text-danger">*To Account  is required</small>
                                    <div class="form-group pt-3">
                                        <div class="input-field" >
                                            <input formControlName="additionalNote"  type="text" placeholder="Additional Notes">
                                        </div>
                                    </div>
                                </form>
                                </div>
                                </div>
                              </div>
                              <div *ngIf="transferAmount >0">
                            <button (click)="TransferAmount()"  type="submit" class="btn btn-primary btn-block mt-4 default-bg-color" style="margin-left: 822px; width: 85px;">Submit</button>
                        </div> 
                    <div style="min-height: 150px;"></div>                       
                    </div>
                  </div>
                </ng-container>
            </div>
            <div>
                <ng-container *ngIf="role === 'Admin'" >
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">AmountFrom</th>
                                    <th scope="col">CurrencyFrom</th>
                                    <th scope="col">ExchangeRate</th>
                                    <th scope="col">AmountTo</th>
                                    <th scope="col">CurrencyTo</th>
                                    <th scope="col">PaymentStatus</th>
                                    <th scope="col">TransactionStatus</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of transations; let i= index">
                                    <td>{{i+1}}</td>
                                    <td>{{item.amountFrom}}</td>
                                    <td>{{item.currencyFrom}}</td>
                                    <td>{{item.exchangeRate}}</td>
                                    <td>{{item.amountTo}}</td>
                                    <td>{{item.currencyTo}}</td>
                                    <td>{{item.paymentStatus}}</td>
                                    <td>{{item.transactionStatus}}</td>
                                    <td>
                                        <span><button (click)="UpdateStatus(item.id,'Approved')"  type="submit" class="btn-block bg-color-approve" style="width: 85px;">Approve</button></span>
                                        <span><button (click)="UpdateStatus(item.id,'Declined')"  type="submit" class="btn-block bg-color-decline" style="width: 85px;">Decline</button></span>
                                    </td>
                                </tr>
          
                            </tbody>
                        </table>
                    </div>
                </ng-container>
            </div>
        </main>
    </div>
  </div>